function http(a,b){if(b)return new Promise(function(c){var e=new XMLHttpRequest;if(e.open(b.method,a,!0),b.headers)for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);'POST'==b.method?(e.setRequestHeader('Content-Type','application/json'),e.send(JSON.stringify(b.data))):'GET'==b.method&&e.send(),e.onload=function(){this.responseText?(console.log(e.status),c({status:e.status,data:JSON.parse(this.responseText)})):c('')}});return b?void 0:new Promise(function(c){var e=new XMLHttpRequest;if(e.open('GET',a,!0),b&&b.headers)for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);e.send(),e.onload=function(){this.responseText?(console.log(e.status),c({status:e.status,data:JSON.parse(this.responseText)})):c('')}})}